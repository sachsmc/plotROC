[{"path":[]},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"about-roc-curves","dir":"Articles","previous_headings":"Introduction","what":"About ROC Curves","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"Receiver Operating Characteristic (ROC) curve used assess accuracy continuous measurement predicting binary outcome. medicine, ROC curves long history use evaluating diagnostic tests radiology general diagnostics. ROC curves also used long time signal detection theory. accuracy diagnostic test can evaluated considering two possible types errors: false positives, false negatives. continuous measurement denote MM, convention dictates test positive defined MM exceeding fixed threshold cc: M>cM > c. reference binary outcome denote DD, good outcome test test positive among individual truly disease: D=1D = 1. bad outcome test positive among individual disease D=0D = 0. Formally, fixed cutoff cc, true positive fraction probability test positive among diseased population: TPF(c)=P{M>c|D=1} TPF(c) = P\\{ M > c | D = 1 \\} false positive fraction probability test positive among healthy population: FPF(c)=P{M>c|D=0} FPF(c) = P\\{ M > c | D = 0 \\} Since cutoff cc usually fixed advance, can plot TPF FPF possible values cc. exactly ROC curve , FPF(c)FPF(c) xx axis TPF(c)TPF(c) along yy axis.","code":""},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"motivation","dir":"Articles","previous_headings":"Introduction","what":"Motivation","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"medical literature, ROC curves commonly plotted without cutoff values displayed. problems ROC curve plots abundant medical literature. aim solve problems providing plotting interface ROC curve comes sensible defaults. easy create interactive ROC curves local web-based use. next section details usage plotROC package.","code":""},{"path":[]},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"shiny-application","dir":"Articles","previous_headings":"Usage","what":"Shiny application","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"created shiny application order make features accessible non-R users. limited subset functions plotROC package can performed example dataset data users upload website. Resulting plots can saved users’ machine pdf stand-alone html file. can used modern web browser dependencies website : https://sachsmc.shinyapps.io/plotROC.","code":""},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"installation-and-loading","dir":"Articles","previous_headings":"Usage","what":"Installation and loading","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"plotROC can installed github CRAN. requires recent version ggplot2 (>2.0.0).","code":"install.packages(\"ggplot2\") install.packages(\"plotROC\") library(plotROC)"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"quick-start","dir":"Articles","previous_headings":"Usage","what":"Quick start","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"installing, interactive Shiny application can run locally.","code":"shiny_plotROC()"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"command-line-basic-usage","dir":"Articles","previous_headings":"Usage","what":"Command line basic usage","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"start creating example data set. 2 markers, one moderately predictive one predictive.","code":"## Loading required package: ggplot2 set.seed(2529) D.ex <- rbinom(200, size = 1, prob = .5) M1 <- rnorm(200, mean = D.ex, sd = .65) M2 <- rnorm(200, mean = D.ex, sd = 1.5)  test <- data.frame(D = D.ex, D.str = c(\"Healthy\", \"Ill\")[D.ex + 1],                     M1 = M1, M2 = M2, stringsAsFactors = FALSE)"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"the-roc-geom","dir":"Articles","previous_headings":"Usage > Command line basic usage","what":"The Roc Geom","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"Next use ggplot function define aesthetics, geom_roc function add ROC curve layer. geom_roc function requires aesthetics d disease status, m marker. disease status need coded 0/1, , stat_roc assumes (warning) lowest value sort order signifies disease-free status. stat_roc geom_roc linked default, stat underlying computation empirical ROC curve, geom consisting ROC curve layer.  disease status aesthetic can specified string factor, warning.  geom_roc layer includes ROC curve line combined points labels display values biomarker different cutpoints. accepts argument n.cuts define number cutpoints display along curve. Labels can suppressed using n.cuts = 0 labels = FALSE. size labels number significant digits can adjusted labelsize labelround, respectively.    provide function style_roc can added ggplot contains ROC curve layer. adds diagonal guideline, sets axis labels, adjusts major minor grid lines. direct_label function operates ggplot object, adding direct label plot. attempts intelligently select appropriate location label, location can adjusted nudge_x, nudge_y label.angle. labels argument NULL, take name mapped aesthetic.","code":"basicplot <- ggplot(test, aes(d = D, m = M1)) + geom_roc() basicplot ggplot(test, aes(d = D.str, m = M1)) + geom_roc() ## Warning in verify_d(data$d): D not labeled 0/1, assuming Healthy = 0 and Ill = ## 1! ggplot(test, aes(d = D, m = M1)) + geom_roc(n.cuts = 0) ggplot(test, aes(d = D, m = M1)) + geom_roc(n.cuts = 5, labelsize = 5, labelround = 2) ggplot(test, aes(d = D, m = M1)) + geom_roc(n.cuts = 50, labels = FALSE) styledplot <- basicplot + style_roc() styledplot basicplot + style_roc(theme = theme_grey, xlab = \"1 - Specificity\") direct_label(basicplot) + style_roc() direct_label(basicplot, labels = \"Biomarker\", nudge_y = -.1) + style_roc()"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"confidence-regions-and-the-rocci-geom","dir":"Articles","previous_headings":"Usage > Command line basic usage","what":"Confidence regions and the Rocci Geom","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"common compute confidence regions points ROC curve using Clopper Pearson (1934) exact method. Briefly, exact confidence intervals calculated FPFFPF TPFTPF separately, level 1−1−α1 - \\sqrt{1 - \\alpha}. Based result 2.4 Pepe (2003), cross-product intervals yields 100*(1−α)100 * (1 - \\alpha) percent rectangular confidence region pair. implemented stat_rocci displayed geom_rocci layer. require aesthetics ROC geom, d disease status m marker. default, set 3 evenly spaced points along curve chosen display confidence regions. can select points passing vector values range m ci.argument. default, significance level α\\alpha set 0.05, can changed using sig.level option.","code":"styledplot + geom_rocci() styledplot + geom_rocci(sig.level = .01) ggplot(test, aes(d = D, m = M1)) + geom_roc(n.cuts = 0) +   geom_rocci(ci.at = quantile(M1, c(.1, .4, .5, .6, .9))) + style_roc()"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"interactive-plots","dir":"Articles","previous_headings":"Usage > Command line basic usage","what":"Interactive Plots","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"Ggplot objects contain GeomRoc layer can used create interactive plot display Rstudio viewer default web browser passing plot_interactive_roc, export_interactive_roc function. style_roc function applied default. Give function optional path html file argument called file save interactive plot complete web page. default, existing Rocci layers removed replaced dense layer confidence regions user can click anywhere confidence region. can suppressed add.cis = FALSE. Furthermore, points layer Roc geom can hidden using hide.points option. Hovering display shows cutoff value point nearest cursor. Clicking makes cutoff label stick next click, confidence regions available, clicks also display grey rectangles. confidence regions automatically detected. user clicks ROC curve, confidence region TPF FPF overlaid using grey rectangle. label region stick next click. interactive ROC plot can exported using export_interactive_roc function, returns character string containing necessary HTML JavaScript. character string can copy-pasted html document, better yet, incorporated directly dynamic document using knitr (knitr homepage). knitr document, necessary use cat function results use chunk options results = 'asis' fig.keep='none' interactive plot displayed correctly. documents contain multiple interactive plots, necessary assign plot unique name using prefix argument export_interactive_roc. necessary ensure JavaScript code manipulates correct svg elements. next code block shows example knitr chunk can used .Rmd document display interactive plot. result shown : Click confidence regions.","code":"plot_interactive_roc(basicplot) ```{r int-no, fig.keep='none', results = 'asis'} cat(   export_interactive_roc(basicplot,                          prefix = \"a\")   ) ``` cat(   export_interactive_roc(basicplot,                          prefix = \"a\")   )"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"multiple-roc-curves","dir":"Articles","previous_headings":"Usage > Command line basic usage","what":"Multiple ROC curves","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"grouping factors dataset, multiple markers measured subjects, may wish plot multiple ROC curves plot. plotROC fully supports faceting grouping done ggplot2. example dataset, 2 markers measured paired manner: data wide format, 2 markers going across 2 columns. ggplot requires long format, marker result single column, third variable identifying marker. provide function melt_roc perform transformation. arguments data frame, name index identifying disease status column, vector names indices identifying markers. Optionally, names argument gives vector names assign marker, replacing column names. result data frame long format. , dataset can passed ggplot function, marker name given grouping faceting variable.          Interactive versions plots fully supported. Click confidence regions. Click confidence regions. Showing multiple curves also useful factor affects classification accuracy test. Let’s create another example dataset.","code":"head(test) ##   D   D.str         M1          M2 ## 1 1     Ill 1.48117155 -2.50636605 ## 2 1     Ill 0.61994478  1.46861033 ## 3 0 Healthy 0.57613345  0.07532573 ## 4 1     Ill 0.85433197  2.41997703 ## 5 0 Healthy 0.05258342  0.01863718 ## 6 1     Ill 0.66703989  0.24732453 longtest <- melt_roc(test, \"D\", c(\"M1\", \"M2\")) head(longtest) ##     D          M name ## M11 1 1.48117155   M1 ## M12 1 0.61994478   M1 ## M13 0 0.57613345   M1 ## M14 1 0.85433197   M1 ## M15 0 0.05258342   M1 ## M16 1 0.66703989   M1 ggplot(longtest, aes(d = D, m = M, color = name)) + geom_roc() + style_roc() ggplot(longtest, aes(d = D, m = M, color = name)) + geom_roc(n.cuts = 0) + style_roc() ggplot(longtest, aes(d = D, m = M)) + geom_roc() + facet_wrap(~ name) + style_roc() ggplot(longtest, aes(d = D, m = M, linetype = name)) + geom_roc() + geom_rocci() ggplot(longtest, aes(d = D, m = M, color = name)) + geom_roc() + style_roc() pairplot <- ggplot(longtest, aes(d = D, m = M, color = name)) +    geom_roc(show.legend = FALSE) + style_roc() direct_label(pairplot) pairplot + geom_rocci() pairplot + geom_rocci(linetype = 1) pairplot + geom_rocci() cat(   export_interactive_roc(direct_label(pairplot),                          prefix = \"b\")   ) ## Scale for x is already present. ## Adding another scale for x, which will replace the existing scale. ## Scale for y is already present. ## Adding another scale for y, which will replace the existing scale. cat(   export_interactive_roc(     ggplot(longtest, aes(d = D, m = M)) + geom_roc() + facet_wrap(~ name),                          prefix = \"c\", width = 10, height = 5)   ) D.cov <- rbinom(400, 1, .5) gender <- c(\"Male\", \"Female\")[rbinom(400, 1, .49) + 1] M.diff <- rnorm(400, mean = D.cov, sd = ifelse(gender == \"Male\", .5, 1.5))  test.cov <- data.frame(D = D.cov, gender = gender, M = M.diff) bygend <- ggplot(test.cov, aes(d = D, m = M, color = gender)) + geom_roc(show.legend = FALSE) direct_label(bygend) + style_roc()"},{"path":[]},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"auc-tables","dir":"Articles","previous_headings":"Usage > New Features","what":"AUC tables","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"Also works multiple panels, layers.","code":"test.cov2 <- data.frame(D = D.cov, gender = gender, M = M.diff,                          group = c(\"A\", \"B\")[rbinom(400, 1, .4) + 1]) bygend2 <- ggplot(test.cov2, aes(d = D, m = M, color = gender)) +             geom_roc() + facet_wrap(~ group) calc_auc(bygend2) ##   PANEL group COORD group.1 gender       AUC ## 1     1     1     1       1 Female 0.6374434 ## 3     1     2     1       2   Male 0.9531326 ## 2     2     1     1       1 Female 0.6328904 ## 4     2     2     1       2   Male 0.8732526 set.seed(123) x <- rnorm(100) y <- round(plogis(3*x + rnorm(100, sd = 5))) df <- data.frame(x, y, gp = c(\"A\", \"B\"), pan = sample(c(\"Z\", \"W\"), 100, replace = TRUE))  x2 <- rnorm(100) y2 <- round(plogis(3*x + rnorm(100, sd = 2))) df2 <- data.frame(x2, y2, gp = c(\"X\", \"Y\"), pan = sample(c(\"Z\", \"W\"), 100, replace = TRUE))   p3 <- ggplot(df, aes(d = y, m = x, color = gp)) + geom_roc() +    geom_roc(data = df2, aes(d = y2, m = x2, color = gp))  calc_auc(p3) ##   PANEL COORD group gp       AUC ## 1     1     1     1  A 0.7451923 ## 2     1     1     2  B 0.6928000 ## 3     1     1     1  X 0.4285714 ## 4     1     1     2  Y 0.4640000 p4 <- ggplot(df, aes(d = y, m = x, color = gp)) + geom_roc() +    geom_roc(data = df2, aes(d = y2, m = x2, color = gp)) +    facet_wrap(~ pan)  calc_auc(p4) ##    PANEL pan COORD group gp       AUC ## 1      1   W     1     1  A 0.7285068 ## 3      1   W     1     2  B 0.4062500 ## 2      2   Z     1     1  A 0.7252747 ## 4      2   Z     1     2  B 0.8099548 ## 11     1   W     1     1  X 0.3515152 ## 31     1   W     1     2  Y 0.4437500 ## 21     2   Z     1     1  X 0.5071429 ## 41     2   Z     1     2  Y 0.5407407"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"custom-labels-and-locations","dir":"Articles","previous_headings":"Usage > New Features","what":"Custom labels and locations","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"","code":"ggplot(test, aes(d = D, m = M1)) + geom_roc(cutoffs.at = c(2, 1, .5, 0, -.5, -1)) ggplot(test, aes(d = D, m = M1)) + geom_roc(cutoffs.at = c(2, 1, .5, 0, -.5, -1), cutoff.labels = letters[1:6])"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"increasing-parameter","dir":"Articles","previous_headings":"Usage > New Features","what":"Increasing parameter","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"default, ROC calculation assumes larger M associated larger Pr(D = 1), can now change setting increasing = FALSE.","code":"ggplot(test, aes(d = D, m = M1)) + geom_roc(increasing = FALSE) ggplot(test, aes(d = D, m = -M1)) + geom_roc(increasing = FALSE)"},{"path":[]},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"themes-and-annotations","dir":"Articles","previous_headings":"Usage > Advanced options","what":"Themes and annotations","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"plotROC uses ggplot2 package create objects plotted. Therefore, themes annotations can added usual ggplot2 way, external libraries ggthemes. area ROC curve can calculated passing ggplot object calc_auc function.","code":"basicplot +    style_roc(theme = theme_grey) +   theme(axis.text = element_text(colour = \"blue\")) +   ggtitle(\"Themes and annotations\") +    annotate(\"text\", x = .75, y = .25,             label = paste(\"AUC =\", round(calc_auc(basicplot)$AUC, 2))) +   scale_x_continuous(\"1 - Specificity\", breaks = seq(0, 1, by = .1)) ## Scale for x is already present. ## Adding another scale for x, which will replace the existing scale."},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"other-estimation-methods","dir":"Articles","previous_headings":"Usage > Advanced options","what":"Other estimation methods","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"default calculate_roc computes empirical ROC curve. estimation methods , summarized introduction. estimation method can used, long cutoff, TPF FPF returned. can simply pass values data frame ggroc function, overriding default stat identity.  Interactive plots stat = \"identity\" currently supported. Another potential use approach plotting time-dependent ROC curves time--event outcomes estimated described Heagerty, Lumley, Pepe (2000).","code":"D.ex <- test$D M.ex <- test$M1 mu1 <- mean(M.ex[D.ex == 1]) mu0 <- mean(M.ex[D.ex == 0]) s1 <- sd(M.ex[D.ex == 1]) s0 <- sd(M.ex[D.ex == 0]) c.ex <- seq(min(M.ex), max(M.ex), length.out = 300)  binorm.roc <- data.frame(c = c.ex,                               FPF = pnorm((mu0 - c.ex)/s0),                               TPF = pnorm((mu1 - c.ex)/s1)                              )  binorm.plot <- ggplot(binorm.roc, aes(x = FPF, y = TPF, label = c)) +    geom_roc(stat = \"identity\") + style_roc(theme = theme_grey) binorm.plot library(survivalROC) survT <- rexp(350, 1/5) cens <- rbinom(350, 1, .1) M <- -8 * sqrt(survT) + rnorm(350, sd = survT)  sroc <- lapply(c(2, 5, 10), function(t){   stroc <- survivalROC(Stime = survT, status = cens, marker = M,                         predict.time = t, method = \"NNE\",                         span = .25 * 350^(-.2))   data.frame(TPF = stroc[[\"TP\"]], FPF = stroc[[\"FP\"]],               c = stroc[[\"cut.values\"]],               time = rep(stroc[[\"predict.time\"]], length(stroc[[\"FP\"]]))) })  sroclong <- do.call(rbind, sroc)  ggplot(sroclong, aes(x = FPF, y = TPF, label = c, color = time)) +    geom_roc(labels = FALSE, stat = \"identity\") + style_roc(theme = theme_gray)"},{"path":"https://sachsmc.github.io/plotROC/articles/examples.html","id":"acknowledgements","dir":"Articles","previous_headings":"","what":"Acknowledgements","title":"Generate ROC Curve Charts for Print and Interactive Use","text":"package possible without following: ggplot2 gridSVG d3.js","code":""},{"path":"https://sachsmc.github.io/plotROC/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michael C. Sachs. Author, maintainer. Robert W. Corty. Contributor. Luis Crouch. Contributor.           Modification calc_auc","code":""},{"path":"https://sachsmc.github.io/plotROC/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Michael C. Sachs (2017). plotROC: Tool Plotting ROC Curves. Journal Statistical Software, Code Snippets, 79(2), 1-19. doi:10.18637/jss.v079.c02","code":"@Article{,   title = {{plotROC}: A Tool for Plotting ROC Curves},   author = {Michael C. Sachs},   journal = {Journal of Statistical Software, Code Snippets},   year = {2017},   volume = {79},   number = {2},   pages = {1--19},   doi = {10.18637/jss.v079.c02}, }"},{"path":"https://sachsmc.github.io/plotROC/index.html","id":"generate-interactive-roc-plots-from-r-using-ggplot","dir":"","previous_headings":"","what":"Generate Useful ROC Curve Charts for Print and Interactive Use","title":"Generate Useful ROC Curve Charts for Print and Interactive Use","text":"ROC curve plots obscure cutoff values inhibit interpretation comparison multiple curves. attempts address shortcomings providing plotting interactive tools. Functions provided generate interactive ROC curve plot web use, print versions. interactive Shiny application also included.","code":""},{"path":"https://sachsmc.github.io/plotROC/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Generate Useful ROC Curve Charts for Print and Interactive Use","text":"development version package. can installed github ","code":"remotes::install_github(\"sachsmc/plotROC\")"},{"path":"https://sachsmc.github.io/plotROC/index.html","id":"basic-usage","dir":"","previous_headings":"","what":"Basic usage","title":"Generate Useful ROC Curve Charts for Print and Interactive Use","text":"See examples live ","code":""},{"path":"https://sachsmc.github.io/plotROC/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"Generate Useful ROC Curve Charts for Print and Interactive Use","text":"package possible without following: ggplot2 gridSVG d3.js","code":""},{"path":"https://sachsmc.github.io/plotROC/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Generate Useful ROC Curve Charts for Print and Interactive Use","text":"Read code snippet article JSS! Michael C. Sachs (2017). plotROC: Tool Plotting ROC Curves. Journal Statistical Software, Code Snippets, 79(2), 1-19. doi:10.18637/jss.v079.c02 BibTeX entry LaTeX users ","code":"@Article{sachs2017plotROC,     title = {{plotROC}: A Tool for Plotting ROC Curves},     author = {Michael C. Sachs},     journal = {Journal of Statistical Software, Code Snippets},     year = {2017},     volume = {79},     number = {2},     pages = {1--19},     doi = {10.18637/jss.v079.c02},   }"},{"path":"https://sachsmc.github.io/plotROC/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Generate Useful ROC Curve Charts for Print and Interactive Use","text":"MIT License (MIT) Copyright (c) 2022 Michael C Sachs Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calc_auc.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Area under the ROC curve — calc_auc","title":"Calculate the Area under the ROC curve — calc_auc","text":"Given ggplot object GeomRoc layer, computes area ROC curve group","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calc_auc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Area under the ROC curve — calc_auc","text":"","code":"calc_auc(ggroc)"},{"path":"https://sachsmc.github.io/plotROC/reference/calc_auc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Area under the ROC curve — calc_auc","text":"ggroc ggplot object contains GeomRoc layer","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calc_auc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Area under the ROC curve — calc_auc","text":"data frame estimated AUCs layer, panel group","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calc_auc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the Area under the ROC curve — calc_auc","text":"","code":"D.ex <- rbinom(50, 1, .5) rocdata <- data.frame(D = c(D.ex, D.ex),                      M = c(rnorm(50, mean = D.ex, sd = .4), rnorm(50, mean = D.ex, sd = 1)),                      Z = c(rep(\"A\", 50), rep(\"B\", 50)))  ggroc <- ggplot(rocdata, aes(m = M, d = D)) + geom_roc() calc_auc(ggroc) #>   PANEL COORD group       AUC #> 1     1     1    -1 0.8421266 ggroc2 <- ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc() calc_auc(ggroc2) #>   PANEL COORD group Z       AUC #> 1     1     1     1 A 0.9788961 #> 2     1     1     2 B 0.7435065"},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_multi_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Empirical ROC curves for multiple biomarkers — calculate_multi_roc","title":"Calculate the Empirical ROC curves for multiple biomarkers — calculate_multi_roc","text":"Deprecated, use geom_roc instead","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_multi_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Empirical ROC curves for multiple biomarkers — calculate_multi_roc","text":"","code":"calculate_multi_roc(data, M_string, D_string)"},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_multi_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Empirical ROC curves for multiple biomarkers — calculate_multi_roc","text":"data data frame containing least 1 marker common class labels, coded 0 1 M_string vector marker column names D_string class label column name","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_multi_roc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Empirical ROC curves for multiple biomarkers — calculate_multi_roc","text":"List data frames containing cutoffs, estimated true false   positive fractions","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Empirical ROC curve — calculate_roc","title":"Calculate the Empirical ROC curve — calculate_roc","text":"Deprecated, use geom_roc instead","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Empirical ROC curve — calculate_roc","text":"","code":"calculate_roc(M, D, ci = FALSE, alpha = 0.05)"},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Empirical ROC curve — calculate_roc","text":"M continuous marker values predictions class labels D class labels, must coded 0 1. numeric 0/1, plotROC assumes first level sort order healthy status, warning. ci Logical, true, calculate exact joint confidence regions TPF FPF alpha Confidence level, ignored ci = FALSE","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_roc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Empirical ROC curve — calculate_roc","text":"dataframe containing cutoffs, estimated true false positive   fractions, confidence intervals ci = TRUE.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/calculate_roc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the Empirical ROC curve — calculate_roc","text":"Confidence intervals TPF FPF calculated using exact   method Clopper Pearson (1934) level 1 - sqrt(1 -   alpha). Based result 2.4 Pepe (2003), cross-product   intervals yields 1 - alpha","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/direct_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Add direct labels to a ROC plot — direct_label","title":"Add direct labels to a ROC plot — direct_label","text":"Add direct labels ROC plot","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/direct_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add direct labels to a ROC plot — direct_label","text":"","code":"direct_label(   ggroc_p,   labels = NULL,   label.angle = 45,   nudge_x = 0,   nudge_y = 0,   size = 6,   ... )"},{"path":"https://sachsmc.github.io/plotROC/reference/direct_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add direct labels to a ROC plot — direct_label","text":"ggroc_p ggplot object contains geom_roc layer labels, vector labels add directly plot next curves. multiple curves, must order grouping factor. NULL, attempts determine labels ggroc_p object label.angle angle adjustment direct labels nudge_x, nudge_y Horizontal vertical adjustment nudge labels . can scalars vectors length number labels size Size labels ... arguments passed annotate","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/export_interactive_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate svg code for an ROC curve object — export_interactive_roc","title":"Generate svg code for an ROC curve object — export_interactive_roc","text":"Takes ggplot object contains GeomRoc layer returns string contains html suitable creating standalone interactive ROC curve plot.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/export_interactive_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate svg code for an ROC curve object — export_interactive_roc","text":"","code":"export_interactive_roc(   ggroc_p,   add.cis = TRUE,   hide.points = FALSE,   prefix = \"a\",   width = 6,   height = 6,   omit.js = FALSE,   style = style_roc(theme = theme_grey()),   ... )"},{"path":"https://sachsmc.github.io/plotROC/reference/export_interactive_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate svg code for an ROC curve object — export_interactive_roc","text":"ggroc_p ggplot object GeomRoc layer optionally GeomRocci layer returned geom_roc /geom_rocci. can modified annotations, themes, etc. add.cis Logical, true, removes current confidence interval layer (present) replaces denser layer confidence regions hide.points Logical, true, hides points layer points cutoff values visible hovering. Recommended plots containing 3 curves. prefix string assign objects within svg. Enables unique identification javascript code width, height Width height inches plot omit.js Logical. true, omit inclusion javascript source output. Useful documents multiple interactive plots style call function style_roc ... arguments passed geom_rocci add.cis = TRUE","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/export_interactive_roc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate svg code for an ROC curve object — export_interactive_roc","text":"character object containing html necessary plot ROC   curve web browser","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/export_interactive_roc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate svg code for an ROC curve object — export_interactive_roc","text":"intend include one objects single   page, use different prefix string one. use   function knitr, use chunk options fig.keep='none'   results = 'asis', cat() resulting string   output. See vignette examples. Older browsers (< IE7)   supported.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Empirical Receiver Operating Characteristic Curve — GeomRoc","title":"Empirical Receiver Operating Characteristic Curve — GeomRoc","text":"Display empirical ROC curve. Useful characterizing classification accuracy continuous measurements predicting binary states","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Empirical Receiver Operating Characteristic Curve — GeomRoc","text":"","code":"GeomRoc  geom_roc(   mapping = NULL,   data = NULL,   stat = \"roc\",   n.cuts = 10,   arrow = NULL,   lineend = \"butt\",   linejoin = \"round\",   linemitre = 1,   linealpha = 1,   pointalpha = 1,   pointsize = 0.5,   labels = TRUE,   labelsize = 3.88,   labelround = 1,   na.rm = TRUE,   cutoffs.at = NULL,   cutoff.labels = NULL,   position = \"identity\",   show.legend = NA,   inherit.aes = TRUE,   ... )"},{"path":"https://sachsmc.github.io/plotROC/reference/geom_roc.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Empirical Receiver Operating Characteristic Curve — GeomRoc","text":"object class GeomRoc (inherits Geom, ggproto, gg) length 6.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Empirical Receiver Operating Characteristic Curve — GeomRoc","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). stat Use override default connection geom_roc stat_roc. n.cuts Number cutpoints display along curve arrow Arrow specification, created arrow lineend Line end style (round, butt, square) linejoin Line join style (round, mitre, bevel) linemitre Line mitre limit (number greater 1) linealpha Alpha level lines, alpha.line deprecated pointalpha Alpha level cutoff points, alpha.point deprecated pointsize Size cutoff points, size.point deprecated labels Logical, display cutoff text labels labelsize Size cutoff text labels labelround Integer, number significant digits round cutoff labels na.rm Remove missing values curve cutoffs.Vector user supplied cutoffs plot points. non-NULL, override values n.cuts plot observed cutoffs closest user-supplied ones. cutoff.labels vector user-supplied labels cutoffs.  Must character vector length cutoffs.. position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_jitter(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_jitter(), give position \"jitter\". information ways specify position, see layer position documentation. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . ... arguments passed layer()'s params argument. arguments broadly fall one 4 categories . Notably, arguments position argument, aesthetics required can passed .... Unknown arguments part 4 categories ignored. Static aesthetics mapped scale, fixed value apply layer whole. example, colour = \"red\" linewidth = 3. geom's documentation Aesthetics section lists available options. 'required' aesthetics passed params. Please note passing unmapped aesthetics vectors technically possible, order required length guaranteed parallel input data. constructing layer using stat_*() function, ... argument can used pass parameters geom part layer. example stat_density(geom = \"area\", outline.type = \"\"). geom's documentation lists parameters can accept. Inversely, constructing layer using geom_*() function, ... argument can used pass parameters stat part layer. example geom_area(stat = \"density\", adjust = 0.5). stat's documentation lists parameters can accept. key_glyph argument layer() may also passed .... can one functions described key glyphs, change display layer legend.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_roc.html","id":"computed-variables","dir":"Reference","previous_headings":"","what":"Computed variables","title":"Empirical Receiver Operating Characteristic Curve — GeomRoc","text":"false_positive_fraction estimate false positive fraction true_positive_fraction estimate true positive fraction cutoffs values m estimates calculated","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_roc.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Empirical Receiver Operating Characteristic Curve — GeomRoc","text":"geom_roc understands following aesthetics (required aesthetics bold): x FPF estimate. automatically mapped stat_roc y TPF estimate. automatically mapped stat_roc   smallest level sort order assumed 0, warning alpha color fill linetype size","code":""},{"path":[]},{"path":"https://sachsmc.github.io/plotROC/reference/geom_roc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Empirical Receiver Operating Characteristic Curve — GeomRoc","text":"","code":"D.ex <- rbinom(50, 1, .5) rocdata <- data.frame(D = c(D.ex, D.ex),                     M = c(rnorm(50, mean = D.ex, sd = .4), rnorm(50, mean = D.ex, sd = 1)),                     Z = c(rep(\"A\", 50), rep(\"B\", 50)))  ggplot(rocdata, aes(m = M, d = D)) + geom_roc()  # \\donttest{ ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc()  ggplot(rocdata, aes(m = M, d = D)) + geom_roc() + facet_wrap(~ Z)  ggplot(rocdata, aes(m = M, d = D)) + geom_roc(n.cuts = 20)  ggplot(rocdata, aes(m = M, d = D)) + geom_roc(cutoffs.at = c(1.5, 1, .5, 0, -.5))  ggplot(rocdata, aes(m = M, d = D)) + geom_roc(labels = FALSE)  ggplot(rocdata, aes(m = M, d = D)) + geom_roc(size = 1.25)  # }"},{"path":"https://sachsmc.github.io/plotROC/reference/geom_rocci.html","id":null,"dir":"Reference","previous_headings":"","what":"Confidence regions for the ROC curve — geom_rocci","title":"Confidence regions for the ROC curve — geom_rocci","text":"Display rectangular confidence regions empirical ROC curve.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_rocci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Confidence regions for the ROC curve — geom_rocci","text":"","code":"geom_rocci(   mapping = NULL,   data = NULL,   stat = \"rocci\",   ci.at = NULL,   sig.level = 0.05,   na.rm = TRUE,   alpha.box = 0.3,   labels = TRUE,   labelsize = 3.88,   labelround = 1,   position = \"identity\",   show.legend = NA,   inherit.aes = TRUE,   ... )  GeomRocci"},{"path":"https://sachsmc.github.io/plotROC/reference/geom_rocci.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Confidence regions for the ROC curve — geom_rocci","text":"object class GeomRocci (inherits Geom, ggproto, gg) length 6.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_rocci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Confidence regions for the ROC curve — geom_rocci","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). stat Use override default connection geom_rocci stat_rocci. ci.Vector values range biomarker confidence regions displayed sig.level Significance level confidence regions na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. alpha.box Alpha level confidence regions labels TRUE, adds text labels cutoffs confidence regions displayed labelsize Size cutoff text labels labelround Integer, number significant digits round cutoff labels position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_jitter(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_jitter(), give position \"jitter\". information ways specify position, see layer position documentation. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . ... arguments passed layer()'s params argument. arguments broadly fall one 4 categories . Notably, arguments position argument, aesthetics required can passed .... Unknown arguments part 4 categories ignored. Static aesthetics mapped scale, fixed value apply layer whole. example, colour = \"red\" linewidth = 3. geom's documentation Aesthetics section lists available options. 'required' aesthetics passed params. Please note passing unmapped aesthetics vectors technically possible, order required length guaranteed parallel input data. constructing layer using stat_*() function, ... argument can used pass parameters geom part layer. example stat_density(geom = \"area\", outline.type = \"\"). geom's documentation lists parameters can accept. Inversely, constructing layer using geom_*() function, ... argument can used pass parameters stat part layer. example geom_area(stat = \"density\", adjust = 0.5). stat's documentation lists parameters can accept. key_glyph argument layer() may also passed .... can one functions described key glyphs, change display layer legend.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/geom_rocci.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Confidence regions for the ROC curve — geom_rocci","text":"geom_rocci understands following aesthetics (required aesthetics bold). stat_rocci automatically maps estimates required aesthetics: x FPF estimate y TPF estimate xmin Lower confidence limit FPF xmax Upper confidence limit FPF ymin Lower confidence limit TPF ymax Upper confidence limit TPF alpha color fill linetype size","code":""},{"path":[]},{"path":"https://sachsmc.github.io/plotROC/reference/geom_rocci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Confidence regions for the ROC curve — geom_rocci","text":"","code":"D.ex <- rbinom(50, 1, .5) rocdata <- data.frame(D = c(D.ex, D.ex),                     M = c(rnorm(50, mean = D.ex, sd = .4), rnorm(50, mean = D.ex, sd = 1)),                     Z = c(rep(\"A\", 50), rep(\"B\", 50)))  ggplot(rocdata, aes(m = M, d = D)) + geom_roc() + geom_rocci()  ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc() + geom_rocci()  ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc() + geom_rocci(sig.level = .01)  ggplot(rocdata, aes(m = M, d = D)) + geom_roc(n.cuts = 0) +  geom_rocci(ci.at = quantile(rocdata$M, c(.1, .25, .5, .75, .9)))  ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc() + geom_rocci(linetype = 1)"},{"path":"https://sachsmc.github.io/plotROC/reference/getD3.html","id":null,"dir":"Reference","previous_headings":"","what":"Reads included JavaScript functions and returns them as a string for pasting into a webpage — getD3","title":"Reads included JavaScript functions and returns them as a string for pasting into a webpage — getD3","text":"Reads included JavaScript functions returns string pasting webpage","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/getD3.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reads included JavaScript functions and returns them as a string for pasting into a webpage — getD3","text":"","code":"getD3()"},{"path":"https://sachsmc.github.io/plotROC/reference/ggroc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot an ROC curve — ggroc","title":"Plot an ROC curve — ggroc","text":"Deprecated, use geom_roc instead","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/ggroc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot an ROC curve — ggroc","text":"","code":"ggroc(   rocdata,   fpf_string = \"FPF\",   tpf_string = \"TPF\",   c_string = \"c\",   ci = FALSE,   label = NULL,   label.adj.x = 0,   label.adj.y = 0,   label.angle = 45,   plotmath = FALSE,   xlabel = \"False positive fraction\",   ylabel = \"True positive fraction\" )"},{"path":"https://sachsmc.github.io/plotROC/reference/ggroc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot an ROC curve — ggroc","text":"rocdata Data frame containing true false positive fractions, cutoff values fpf_string Column name identifying false positive fraction column tpf_string Column name identifying true positive fraction column c_string Column name identifying cutoff values ci Logical, supported label supported label.adj.x supported label.adj.y supported label.angle supported plotmath supported xlabel Defaults \"False positive fraction\" ylabel Defaults \"True positive fraction\"","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/ggroc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot an ROC curve — ggroc","text":"ggplot object","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/melt_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform biomarkers stored as wide to long — melt_roc","title":"Transform biomarkers stored as wide to long — melt_roc","text":"Multiple biomarkers measured subjects often stored multiple columns data frame. convenience function transforms data long format, suitable use ggplot geom_roc","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/melt_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform biomarkers stored as wide to long — melt_roc","text":"","code":"melt_roc(data, d, m, names = NULL)"},{"path":"https://sachsmc.github.io/plotROC/reference/melt_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform biomarkers stored as wide to long — melt_roc","text":"data Data frame containing disease status biomarkers stored columns d Column containing binary disease status. Can column name index m Vector column names indices identifying biomarkers names Optional vector names assign biomarkers. NULL, names taken column names","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/melt_roc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform biomarkers stored as wide to long — melt_roc","text":"data frame long format three columns: D = binary disease status, M = biomarker value, name = biomarker name","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/melt_roc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform biomarkers stored as wide to long — melt_roc","text":"","code":"D.ex <- rbinom(50, 1, .5) widedata <- data.frame(D = D.ex, M1 = rnorm(50, mean = D.ex, sd = 1),     M2 = rnorm(50, mean = D.ex, sd = .5)) longdata <- melt_roc(widedata, \"D\", c(\"M1\", \"M2\")) ggplot(longdata, aes(d = D, m = M, color = name)) + geom_roc()"},{"path":"https://sachsmc.github.io/plotROC/reference/multi_ggroc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot multiple ROC curves — multi_ggroc","title":"Plot multiple ROC curves — multi_ggroc","text":"Given list results computed calculate_roc, plot curve using ggplot sensible defaults. Pass resulting object data export_interactive_roc, plot_interactive_roc, plot_journal_roc.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/multi_ggroc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot multiple ROC curves — multi_ggroc","text":"","code":"multi_ggroc(   datalist,   fpf_string = rep(\"FPF\", length(datalist)),   tpf_string = rep(\"TPF\", length(datalist)),   c_string = rep(\"c\", length(datalist)),   label = NULL,   legend = TRUE,   label.adj.x = rep(0, length(datalist)),   label.adj.y = rep(0, length(datalist)),   label.angle = rep(45, length(datalist)),   plotmath = FALSE,   xlabel = \"False positive fraction\",   ylabel = \"True positive fraction\" )"},{"path":"https://sachsmc.github.io/plotROC/reference/multi_ggroc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot multiple ROC curves — multi_ggroc","text":"datalist List data frames containing true false positive fractions cutoffs fpf_string Column names identifying false positive fraction tpf_string Column names identifying true positive fraction c_string Column names identifying cutoff values label supported. legend true, draws legend label.adj.x supported. label.adj.y supported. label.angle supported. plotmath Logical. supported. xlabel Defaults \"False positive fraction\" ylabel Defaults \"True positive fraction\"","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/multi_ggroc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot multiple ROC curves — multi_ggroc","text":"ggplot object","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plotROC.html","id":null,"dir":"Reference","previous_headings":"","what":"Tools for plotting ROC Curves — plotROC","title":"Tools for plotting ROC Curves — plotROC","text":"Generate Useful ROC Curve Charts Print Interactive Use. defines set stats geoms use ggplot2. addition, ggplot objects created geoms can exported turned interactive plots use web. interactive features include hovering display hidden labels, clicking reveal confidence regions.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plotROC.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tools for plotting ROC Curves — plotROC","text":"get started, see geom_roc, geom_rocci, examples . transforming data, also provide convenience function melt_roc. vignette contains examples, along explanations results. view, run vignette(\"examples\", package = \"plotROC\")","code":""},{"path":[]},{"path":"https://sachsmc.github.io/plotROC/reference/plotROC.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Tools for plotting ROC Curves — plotROC","text":"Michael Sachs (@sachsmc)","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plotROC.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tools for plotting ROC Curves — plotROC","text":"","code":"D.ex <- rbinom(50, 1, .5) rocdata <- data.frame(D = c(D.ex, D.ex),                     M = c(rnorm(50, mean = D.ex, sd = .4), rnorm(50, mean = D.ex, sd = 1)),                     Z = c(rep(\"A\", 50), rep(\"B\", 50)))  ggplot(rocdata, aes(m = M, d = D)) + geom_roc() + geom_rocci()  # \\donttest{ ggplot(rocdata, aes(m = M, d = D)) + geom_roc() + style_roc()  ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc() + geom_rocci()  ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc() + geom_rocci(sig.level = .01)  ggplot(rocdata, aes(m = M, d = D)) + geom_roc(n.cuts = 0) +  geom_rocci(ci.at = quantile(rocdata$M, c(.1, .25, .5, .75, .9)))  ggplot(rocdata, aes(m = M, d = D, color = Z)) + geom_roc() + geom_rocci(linetype = 1)   rocplot <- ggplot(rocdata, aes(m = M, d = D)) + geom_roc()  plot_interactive_roc(rocplot) plot_interactive_roc(rocplot + aes(color = Z)) plot_interactive_roc(rocplot + facet_wrap( ~ Z)) # }"},{"path":"https://sachsmc.github.io/plotROC/reference/plot_interactive_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a standalone html document displaying an interactive ROC curve — plot_interactive_roc","title":"Generate a standalone html document displaying an interactive ROC curve — plot_interactive_roc","text":"Generate standalone html document displaying interactive ROC curve","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plot_interactive_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a standalone html document displaying an interactive ROC curve — plot_interactive_roc","text":"","code":"plot_interactive_roc(ggroc, file = NULL, ...)"},{"path":"https://sachsmc.github.io/plotROC/reference/plot_interactive_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a standalone html document displaying an interactive ROC curve — plot_interactive_roc","text":"ggroc object returned ggroc multi_ggroc. can modified annotations, themes, etc. file path save result . NULL, save temporary directory ... arguments passed export_interactive_roc","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plot_interactive_roc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a standalone html document displaying an interactive ROC curve — plot_interactive_roc","text":"NULL opens interactive document Rstudio default web browser","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plot_journal_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot an ROC curve for use in print — plot_journal_roc","title":"Plot an ROC curve for use in print — plot_journal_roc","text":"Deprecated, use style_roc instead","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plot_journal_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot an ROC curve for use in print — plot_journal_roc","text":"","code":"plot_journal_roc(   ggroc_p,   font.size = 3,   n.cuts = 20,   ci.at = NULL,   opacity = 0.3,   lty = NULL,   color = NULL,   lwd = NULL,   legend = FALSE )"},{"path":"https://sachsmc.github.io/plotROC/reference/plot_journal_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot an ROC curve for use in print — plot_journal_roc","text":"ggroc_p object returned ggroc multi_ggroc. can modified annotations, themes, etc. font.size supported n.cuts supported ci.supported opacity supported lty supported color supported lwd supported legend supported","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/plot_journal_roc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot an ROC curve for use in print — plot_journal_roc","text":"ggplot object","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/roc_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Key for ROC geom — roc_key","title":"Key for ROC geom — roc_key","text":"Key ROC geom","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/roc_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Key for ROC geom — roc_key","text":"","code":"roc_key(data, params, size)"},{"path":"https://sachsmc.github.io/plotROC/reference/roc_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Key for ROC geom — roc_key","text":"data Data created stat params parameters size Size","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/shiny_plotROC.html","id":null,"dir":"Reference","previous_headings":"","what":"Start the plotROC Shiny app — shiny_plotROC","title":"Start the plotROC Shiny app — shiny_plotROC","text":"convenience function easily start shiny application. open Rstudio, default web browser.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/shiny_plotROC.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Start the plotROC Shiny app — shiny_plotROC","text":"","code":"shiny_plotROC()"},{"path":"https://sachsmc.github.io/plotROC/reference/stat_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","title":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","text":"Given binary outcome d continuous measurement m, computes empirical ROC curve assessing classification accuracy m","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","text":"","code":"StatRoc  stat_roc(   mapping = NULL,   data = NULL,   geom = \"roc\",   position = \"identity\",   show.legend = NA,   inherit.aes = TRUE,   na.rm = TRUE,   max.num.points = 1000,   increasing = TRUE,   ... )"},{"path":"https://sachsmc.github.io/plotROC/reference/stat_roc.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","text":"object class StatRoc (inherits Stat, ggproto, gg) length 6.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). geom geometric object use display data layer. using stat_*() function construct layer, geom argument can used override default coupling stats geoms. geom argument accepts following: Geom ggproto subclass, example GeomPoint. string naming geom. give geom string, strip function name geom_ prefix. example, use geom_point(), give geom \"point\". information ways specify geom, see layer geom documentation. position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_jitter(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_jitter(), give position \"jitter\". information ways specify position, see layer position documentation. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . na.rm Remove missing observations max.num.points maximum number points plot increasing TRUE (default) M positively associated Pr(D = 1), FALSE, assumes M negatively associated Pr(D = 1) ... arguments passed layer()'s params argument. arguments broadly fall one 4 categories . Notably, arguments position argument, aesthetics required can passed .... Unknown arguments part 4 categories ignored. Static aesthetics mapped scale, fixed value apply layer whole. example, colour = \"red\" linewidth = 3. geom's documentation Aesthetics section lists available options. 'required' aesthetics passed params. Please note passing unmapped aesthetics vectors technically possible, order required length guaranteed parallel input data. constructing layer using stat_*() function, ... argument can used pass parameters geom part layer. example stat_density(geom = \"area\", outline.type = \"\"). geom's documentation lists parameters can accept. Inversely, constructing layer using geom_*() function, ... argument can used pass parameters stat part layer. example geom_area(stat = \"density\", adjust = 0.5). stat's documentation lists parameters can accept. key_glyph argument layer() may also passed .... can one functions described key glyphs, change display layer legend.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_roc.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","text":"stat_roc understands following aesthetics (required aesthetics bold): m continuous biomarker/predictor d binary outcome, coded 0/1,   smallest level sort order assumed 0, warning alpha Controls label alpha, see also linealpha pointalpha color linetype size Controls line weight, see also pointsize labelsize","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_roc.html","id":"computed-variables","dir":"Reference","previous_headings":"","what":"Computed variables","title":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","text":"false_positive_fraction estimate false positive fraction true_positive_fraction estimate true positive fraction cutoffs values m estimates calculated","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_roc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the empirical Receiver Operating Characteristic curve — StatRoc","text":"","code":"D.ex <- rbinom(50, 1, .5) rocdata <- data.frame(D = c(D.ex, D.ex),                     M = c(rnorm(50, mean = D.ex, sd = .4), rnorm(50, mean = D.ex, sd = 1)),                     Z = c(rep(\"A\", 50), rep(\"B\", 50)))  ggplot(rocdata, aes(m = M, d = D)) + stat_roc()"},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate confidence regions for the empirical ROC curve — StatRocci","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"Confidence intervals TPF FPF calculated using exact   method Clopper Pearson (1934) level 1 - sqrt(1 -   alpha). Based result 2.4 Pepe (2003), cross-product   intervals yields 1 - alpha","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"","code":"StatRocci  stat_rocci(   mapping = NULL,   data = NULL,   geom = \"rocci\",   position = \"identity\",   show.legend = NA,   inherit.aes = TRUE,   ci.at = NULL,   sig.level = 0.05,   na.rm = TRUE,   ... )"},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"object class StatRocci (inherits Stat, ggproto, gg) length 6.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). geom geometric object use display data layer. using stat_*() function construct layer, geom argument can used override default coupling stats geoms. geom argument accepts following: Geom ggproto subclass, example GeomPoint. string naming geom. give geom string, strip function name geom_ prefix. example, use geom_point(), give geom \"point\". information ways specify geom, see layer geom documentation. position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_jitter(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_jitter(), give position \"jitter\". information ways specify position, see layer position documentation. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . ci.Vector cutoffs display confidence regions. NULL, automatically choose 3 evenly spaced points display regions sig.level Significance level confidence regions na.rm Remove missing observations ... arguments passed layer()'s params argument. arguments broadly fall one 4 categories . Notably, arguments position argument, aesthetics required can passed .... Unknown arguments part 4 categories ignored. Static aesthetics mapped scale, fixed value apply layer whole. example, colour = \"red\" linewidth = 3. geom's documentation Aesthetics section lists available options. 'required' aesthetics passed params. Please note passing unmapped aesthetics vectors technically possible, order required length guaranteed parallel input data. constructing layer using stat_*() function, ... argument can used pass parameters geom part layer. example stat_density(geom = \"area\", outline.type = \"\"). geom's documentation lists parameters can accept. Inversely, constructing layer using geom_*() function, ... argument can used pass parameters stat part layer. example geom_area(stat = \"density\", adjust = 0.5). stat's documentation lists parameters can accept. key_glyph argument layer() may also passed .... can one functions described key glyphs, change display layer legend.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"stat_rocci understands following aesthetics (required aesthetics bold): m continuous biomarker/predictor d binary outcome, coded 0/1,   smallest level sort order assumed 0, warning alpha color fill linetype size","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":"computed-variables","dir":"Reference","previous_headings":"","what":"Computed variables","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"FPF estimate false positive fraction TPF estimate true positive fraction cutoffs values m estimates calculated FPFL lower bound confidence region FPF FPFU upper bound confidence region FPF TPFL lower bound confidence region TPF TPFU upper bound confidence region TPF","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"Clopper, C. J., Egon S. Pearson. \"use confidence fiducial limits illustrated case binomial.\" Biometrika (1934): 404-413. Pepe, M.S. \"Statistical Evaluation Medical Tests Classification Prediction.\" Oxford (2003).","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/stat_rocci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate confidence regions for the empirical ROC curve — StatRocci","text":"","code":"D.ex <- rbinom(50, 1, .5) rocdata <- data.frame(D = c(D.ex, D.ex),                     M = c(rnorm(50, mean = D.ex, sd = .4), rnorm(50, mean = D.ex, sd = 1)),                     Z = c(rep(\"A\", 50), rep(\"B\", 50)))  ggplot(rocdata, aes(m = M, d = D)) + geom_roc() + stat_rocci()  ggplot(rocdata, aes(m = M, d = D)) + geom_roc() +  stat_rocci(ci.at = quantile(rocdata$M, c(.1, .3, .5, .7, .9)))"},{"path":"https://sachsmc.github.io/plotROC/reference/style_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Add guides and annotations to a ROC plot — style_roc","title":"Add guides and annotations to a ROC plot — style_roc","text":"Adds diagonal guideline, minor grid lines, optionally direct labels ggplot objects containing geom_roc layer.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/style_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add guides and annotations to a ROC plot — style_roc","text":"","code":"style_roc(   major.breaks = c(0, 0.1, 0.25, 0.5, 0.75, 0.9, 1),   minor.breaks = c(seq(0, 0.1, by = 0.01), seq(0.9, 1, by = 0.01)),   guide = TRUE,   guide_col = NULL,   xlab = \"False positive fraction\",   ylab = \"True positive fraction\",   theme = theme_bw )"},{"path":"https://sachsmc.github.io/plotROC/reference/style_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add guides and annotations to a ROC plot — style_roc","text":"major.breaks vector breakpoints major gridlines axes minor.breaks vector breakpoints minor gridlines axes guide logical, TRUE draws diagonal guideline guide_col character, guide TRUE sets colour diagonal guideline. Takes precedence colour set theme. xlab X-axis label ylab Y-axis label theme Theme function compatible ggplot2","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/style_roc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add guides and annotations to a ROC plot — style_roc","text":"","code":"D.ex <- rbinom(50, 1, .5) fakedata <- data.frame(M1 = rnorm(50, mean = D.ex),     D = D.ex) ggplot(fakedata, aes(m = M1, d = D)) + geom_roc() + style_roc()  ggplot(fakedata, aes(m = M1, d = D)) + geom_roc() + style_roc(xlab = \"1 - Specificity\")  ggplot(fakedata, aes(m = M1, d = D)) + geom_roc() + style_roc(theme = theme_grey)"},{"path":"https://sachsmc.github.io/plotROC/reference/verify_d.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that D is suitable for using as binary disease status — verify_d","title":"Check that D is suitable for using as binary disease status — verify_d","text":"Checks two classes gives warning message indicating level assumed 0/1. Throws error two levels appear D.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/verify_d.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that D is suitable for using as binary disease status — verify_d","text":"","code":"verify_d(D)"},{"path":"https://sachsmc.github.io/plotROC/reference/verify_d.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that D is suitable for using as binary disease status — verify_d","text":"D Vector checked 2-class labels","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/verify_d.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that D is suitable for using as binary disease status — verify_d","text":"vector length D takes values 0, indicating disease 1 indicating disease.","code":""},{"path":"https://sachsmc.github.io/plotROC/reference/verify_d.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check that D is suitable for using as binary disease status — verify_d","text":"","code":"verify_d(c(1, 0, 1)) #> [1] 1 0 1 if (FALSE) { # \\dontrun{ verify_d(c(TRUE, FALSE, TRUE)) #warning verify_d(c(\"Dead\", \"Alive\", \"Dead\")) #warning verify_d(c(\"Disease\", \"Healthy\", \"Missing\")) #error } # }"}]
